# –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è
'''
–ó–∞–≤–¥–∞–Ω–Ω—è 1

–°—Ç–≤–æ—Ä—ñ—Ç—å –≥—Ä–∞—Ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ networkX –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –ø–µ–≤–Ω–æ—ó —Ä–µ–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ—ó –º–µ—Ä–µ–∂—ñ –º—ñ—Å—Ç–∞, —Å–æ—Ü—ñ–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ, —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç–æ–ø–æ–ª–æ–≥—ñ—ó).

info
üìñ –†–µ–∞–ª—å–Ω—É –º–µ—Ä–µ–∂—É –º–æ–∂–Ω–∞ –≤–∏–±—Ä–∞—Ç–∏ –Ω–∞ —Å–≤—ñ–π —Ä–æ–∑—Å—É–¥, —è–∫—â–æ –Ω–µ–º–∞—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø—Ä–∏–¥—É–º–∞—Ç–∏ —Å–≤–æ—é –º–µ—Ä–µ–∂—É, –Ω–∞–±–ª–∏–∂–µ–Ω—É –¥–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ.

–í—ñ–∑—É–∞–ª—ñ–∑—É–π—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≥—Ä–∞—Ñ, –ø—Ä–æ–≤–µ–¥—ñ—Ç—å –∞–Ω–∞–ª—ñ–∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–µ—Ä—à–∏–Ω —Ç–∞ —Ä–µ–±–µ—Ä, —Å—Ç—É–ø—ñ–Ω—å –≤–µ—Ä—à–∏–Ω).
'''
# –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è

import networkx as nx
import matplotlib.pyplot as plt
#import pandas as pd

# --- –ü–æ–±—É–¥–æ–≤–∞ –≥—Ä–∞—Ñ–∞ ---
G = nx.Graph()

# –ß–µ—Ä–≤–æ–Ω–∞ –ª—ñ–Ω—ñ—è (–°–≤—è—Ç–æ—à–∏–Ω—Å—å–∫–æ-–ë—Ä–æ–≤–∞—Ä—Å—å–∫–∞)
red_line = [
    "–ê–∫–∞–¥–µ–º–º—ñ—Å—Ç–µ—á–∫–æ", "–ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞", "–°–≤—è—Ç–æ—à–∏–Ω", "–ù–∏–≤–∫–∏", "–ë–µ—Ä–µ—Å—Ç–µ–π—Å—å–∫–∞",
    "–®—É–ª—è–≤—Å—å–∫–∞", "–ü–æ–ª—ñ—Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —ñ–Ω—Å—Ç–∏—Ç—É—Ç", "–í–æ–∫–∑–∞–ª—å–Ω–∞", "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç",
    "–¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞", "–•—Ä–µ—â–∞—Ç–∏–∫", "–ê—Ä—Å–µ–Ω–∞–ª—å–Ω–∞", "–î–Ω—ñ–ø—Ä–æ", "–ì—ñ–¥—Ä–æ–ø–∞—Ä–∫",
    "–õ—ñ–≤–æ–±–µ—Ä–µ–∂–Ω–∞", "–î–∞—Ä–Ω–∏—Ü—è", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤—Å—å–∫–∞", "–õ—ñ—Å–æ–≤–∞"
]

# –°–∏–Ω—è –ª—ñ–Ω—ñ—è (–û–±–æ–ª–æ–Ω—Å—å–∫–æ-–¢–µ—Ä–µ–º–∫—ñ–≤—Å—å–∫–∞)
blue_line = [
    "–ì–µ—Ä–æ—ó–≤ –î–Ω—ñ–ø—Ä–∞", "–ú—ñ–Ω—Å—å–∫–∞", "–û–±–æ–ª–æ–Ω—å", "–ü–æ—á–∞–π–Ω–∞", "–¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞",
    "–ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤–∞ –ø–ª–æ—â–∞", "–ü–æ—à—Ç–æ–≤–∞ –ø–ª–æ—â–∞", "–ú–∞–π–¥–∞–Ω –ù–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ", "–ü–ª–æ—â–∞ –õ—å–≤–∞ –¢–æ–ª—Å—Ç–æ–≥–æ",
    "–û–ª—ñ–º–ø—ñ–π—Å—å–∫–∞", "–ü–∞–ª–∞—Ü –£–∫—Ä–∞—ó–Ω–∞", "–õ–∏–±—ñ–¥—Å—å–∫–∞", "–î–µ–º—ñ—ó–≤—Å—å–∫–∞",
    "–ì–æ–ª–æ—Å—ñ—ó–≤—Å—å–∫–∞", "–í–∞—Å–∏–ª—å–∫—ñ–≤—Å—å–∫–∞", "–í–∏—Å—Ç–∞–≤–∫–æ–≤–∏–π —Ü–µ–Ω—Ç—Ä", "–Ü–ø–æ–¥—Ä–æ–º", "–¢–µ—Ä–µ–º–∫–∏"
]

# –ó–µ–ª–µ–Ω–∞ –ª—ñ–Ω—ñ—è (–°–∏—Ä–µ—Ü—å–∫–æ-–ü–µ—á–µ—Ä—Å—å–∫–∞)
green_line = [
    "–°–∏—Ä–µ—Ü—å", "–î–æ—Ä–æ–≥–æ–∂–∏—á—ñ", "–õ—É–∫'—è–Ω—ñ–≤—Å—å–∫–∞", "–ó–æ–ª–æ—Ç—ñ –≤–æ—Ä–æ—Ç–∞", "–ü–∞–ª–∞—Ü —Å–ø–æ—Ä—Ç—É",
    "–ö–ª–æ–≤—Å—å–∫–∞", "–ü–µ—á–µ—Ä—Å—å–∫–∞", "–î—Ä—É–∂–±–∏ –Ω–∞—Ä–æ–¥—ñ–≤", "–í–∏–¥—É–±–∏—á—ñ", "–°–ª–∞–≤—É—Ç–∏—á",
    "–û—Å–æ–∫–æ—Ä–∫–∏", "–ü–æ–∑–Ω—è–∫–∏", "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∞", "–í–∏—Ä–ª–∏—Ü—è", "–ë–æ—Ä–∏—Å–ø—ñ–ª—å—Å—å–∫–∞", "–ß–µ—Ä–≤–æ–Ω–∏–π —Ö—É—Ç—ñ—Ä"
]

# –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–µ—Ä—à–∏–Ω
G.add_nodes_from(red_line)
G.add_nodes_from(blue_line)
G.add_nodes_from(green_line)

# –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–±–µ—Ä
def add_edges(line):
    return list(zip(line, line[1:]))

G.add_edges_from(add_edges(red_line))
G.add_edges_from(add_edges(blue_line))
G.add_edges_from(add_edges(green_line))

# –ü–µ—Ä–µ—Å–∞–¥–∫–∏ –º—ñ–∂ –ª—ñ–Ω—ñ—è–º–∏
transfers = [
    ("–•—Ä–µ—â–∞—Ç–∏–∫", "–ú–∞–π–¥–∞–Ω –ù–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ"),  # —á–µ—Ä–≤–æ–Ω–∞ <-> —Å–∏–Ω—è
    ("–¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞", "–ó–æ–ª–æ—Ç—ñ –≤–æ—Ä–æ—Ç–∞"),      # —á–µ—Ä–≤–æ–Ω–∞ <-> –∑–µ–ª–µ–Ω–∞
    ("–ü–ª–æ—â–∞ –õ—å–≤–∞ –¢–æ–ª—Å—Ç–æ–≥–æ", "–ü–∞–ª–∞—Ü —Å–ø–æ—Ä—Ç—É")  # —Å–∏–Ω—è <-> –∑–µ–ª–µ–Ω–∞
]
G.add_edges_from(transfers)

# --- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è ---
plt.figure(figsize=(16, 10))
pos = nx.spring_layout(G, seed=42)
nx.draw(
    G, pos, with_labels=True, node_size=1600,
    node_color='lightgreen', font_size=8, edge_color='gray'
)
plt.title("–ö–∏—ó–≤—Å—å–∫–∏–π –º–µ—Ç—Ä–æ–ø–æ–ª—ñ—Ç–µ–Ω ‚Äî —É—Å—ñ –ª—ñ–Ω—ñ—ó –∑ –ø–µ—Ä–µ—Å–∞–¥–∫–∞–º–∏", fontsize=14)
plt.show()

# --- –ê–Ω–∞–ª—ñ–∑ ---
print(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞–Ω—Ü—ñ–π: {G.number_of_nodes()}")
print(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑'—î–¥–Ω–∞–Ω—å: {G.number_of_edges()}")

print("\n–°—Ç—É–ø—ñ–Ω—å –∫–æ–∂–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó:")
for station, deg in G.degree():
    print(f" - {station}: {deg}")

